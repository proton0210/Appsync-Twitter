"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NestedReplyRetweeted = void 0;
const appsync = require("@aws-cdk/aws-appsync-alpha");
const path = require("path");
const constructs_1 = require("constructs");
class NestedReplyRetweeted extends constructs_1.Construct {
    constructor(scope, id, api, retweetsTable) {
        super(scope, id);
        this.api = api;
        this.retweetsTable = retweetsTable;
        this.resolver = this.createNestedReplyRetweetedResolver();
    }
    createNestedReplyRetweetedResolver() {
        // we can use the same resolvers as NestedTweetRetweeted
        return this.api
            .addDynamoDbDataSource('NestedReplyRetweetedDataSource', this.retweetsTable)
            .createResolver({
            typeName: 'Reply',
            fieldName: 'retweeted',
            requestMappingTemplate: appsync.MappingTemplate.fromFile(path.join(__dirname, '../resolvers/query/Nested/NestedReplyRetweeted/request.vtl')),
            responseMappingTemplate: appsync.MappingTemplate.fromFile(path.join(__dirname, '../resolvers/query/Nested/NestedReplyRetweeted/response.vtl'))
        });
    }
}
exports.NestedReplyRetweeted = NestedReplyRetweeted;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmVzdGVkUmVwbHlSZXR3ZWV0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJOZXN0ZWRSZXBseVJldHdlZXRlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxzREFBc0Q7QUFDdEQsNkJBQTZCO0FBQzdCLDJDQUF1QztBQUV2QyxNQUFhLG9CQUFxQixTQUFRLHNCQUFTO0lBS2pELFlBQ0UsS0FBZ0IsRUFDaEIsRUFBVSxFQUNWLEdBQXVCLEVBQ3ZCLGFBQXFDO1FBRXJDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxDQUFDO0lBQzVELENBQUM7SUFFTSxrQ0FBa0M7UUFDdkMsd0RBQXdEO1FBQ3hELE9BQU8sSUFBSSxDQUFDLEdBQUc7YUFDWixxQkFBcUIsQ0FDcEIsZ0NBQWdDLEVBQ2hDLElBQUksQ0FBQyxhQUFhLENBQ25CO2FBQ0EsY0FBYyxDQUFDO1lBQ2QsUUFBUSxFQUFFLE9BQU87WUFDakIsU0FBUyxFQUFFLFdBQVc7WUFDdEIsc0JBQXNCLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQ3RELElBQUksQ0FBQyxJQUFJLENBQ1AsU0FBUyxFQUNULDREQUE0RCxDQUM3RCxDQUNGO1lBQ0QsdUJBQXVCLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQ3ZELElBQUksQ0FBQyxJQUFJLENBQ1AsU0FBUyxFQUNULDZEQUE2RCxDQUM5RCxDQUNGO1NBQ0YsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUNGO0FBekNELG9EQXlDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgKiBhcyBhcHBzeW5jIGZyb20gJ0Bhd3MtY2RrL2F3cy1hcHBzeW5jLWFscGhhJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcblxuZXhwb3J0IGNsYXNzIE5lc3RlZFJlcGx5UmV0d2VldGVkIGV4dGVuZHMgQ29uc3RydWN0IHtcbiAgcHVibGljIGFwaTogYXBwc3luYy5HcmFwaHFsQXBpO1xuICBwdWJsaWMgcmV0d2VldHNUYWJsZTogY2RrLmF3c19keW5hbW9kYi5UYWJsZTtcbiAgcHVibGljIHJlc29sdmVyOiBhcHBzeW5jLlJlc29sdmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBDb25zdHJ1Y3QsXG4gICAgaWQ6IHN0cmluZyxcbiAgICBhcGk6IGFwcHN5bmMuR3JhcGhxbEFwaSxcbiAgICByZXR3ZWV0c1RhYmxlOiBjZGsuYXdzX2R5bmFtb2RiLlRhYmxlXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBpZCk7XG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgdGhpcy5yZXR3ZWV0c1RhYmxlID0gcmV0d2VldHNUYWJsZTtcbiAgICB0aGlzLnJlc29sdmVyID0gdGhpcy5jcmVhdGVOZXN0ZWRSZXBseVJldHdlZXRlZFJlc29sdmVyKCk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlTmVzdGVkUmVwbHlSZXR3ZWV0ZWRSZXNvbHZlcigpIHtcbiAgICAvLyB3ZSBjYW4gdXNlIHRoZSBzYW1lIHJlc29sdmVycyBhcyBOZXN0ZWRUd2VldFJldHdlZXRlZFxuICAgIHJldHVybiB0aGlzLmFwaVxuICAgICAgLmFkZER5bmFtb0RiRGF0YVNvdXJjZShcbiAgICAgICAgJ05lc3RlZFJlcGx5UmV0d2VldGVkRGF0YVNvdXJjZScsXG4gICAgICAgIHRoaXMucmV0d2VldHNUYWJsZVxuICAgICAgKVxuICAgICAgLmNyZWF0ZVJlc29sdmVyKHtcbiAgICAgICAgdHlwZU5hbWU6ICdSZXBseScsXG4gICAgICAgIGZpZWxkTmFtZTogJ3JldHdlZXRlZCcsXG4gICAgICAgIHJlcXVlc3RNYXBwaW5nVGVtcGxhdGU6IGFwcHN5bmMuTWFwcGluZ1RlbXBsYXRlLmZyb21GaWxlKFxuICAgICAgICAgIHBhdGguam9pbihcbiAgICAgICAgICAgIF9fZGlybmFtZSxcbiAgICAgICAgICAgICcuLi9yZXNvbHZlcnMvcXVlcnkvTmVzdGVkL05lc3RlZFJlcGx5UmV0d2VldGVkL3JlcXVlc3QudnRsJ1xuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgcmVzcG9uc2VNYXBwaW5nVGVtcGxhdGU6IGFwcHN5bmMuTWFwcGluZ1RlbXBsYXRlLmZyb21GaWxlKFxuICAgICAgICAgIHBhdGguam9pbihcbiAgICAgICAgICAgIF9fZGlybmFtZSxcbiAgICAgICAgICAgICcuLi9yZXNvbHZlcnMvcXVlcnkvTmVzdGVkL05lc3RlZFJlcGx5UmV0d2VldGVkL3Jlc3BvbnNlLnZ0bCdcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH0pO1xuICB9XG59XG4iXX0=